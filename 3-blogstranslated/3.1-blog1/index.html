<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.134.3"><meta name=description content><meta name=author content="thienlh@thienlu.com"><link rel=icon href=../../images/favicon.png type=image/png><title>How FINRA established real-time operational observability for big data workloads on Amazon EMR running on Amazon EC2 with Prometheus and Grafana :: Internship Report</title>
<link href=../../css/nucleus.css?1765297502 rel=stylesheet><link href=../../css/fontawesome-all.min.css?1765297502 rel=stylesheet><link href=../../css/hybrid.css?1765297502 rel=stylesheet><link href=../../css/featherlight.min.css?1765297502 rel=stylesheet><link href=../../css/perfect-scrollbar.min.css?1765297502 rel=stylesheet><link href=../../css/auto-complete.css?1765297502 rel=stylesheet><link href=../../css/atom-one-dark-reasonable.css?1765297502 rel=stylesheet><link href=../../css/theme.css?1765297502 rel=stylesheet><link href=../../css/hugo-theme.css?1765297502 rel=stylesheet><link href=../../css/theme-workshop.css?1765297502 rel=stylesheet><script src=../../js/jquery-3.3.1.min.js?1765297502></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=../../3-blogstranslated/3.1-blog1/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=../../><svg id="Layer_1" data-name="Layer 1" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2 4.28 4.28.0 011.46-3.4A6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26q-.35.0-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64l-2.56 10.7a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84q0-.52.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37 5.27 5.27.0 011.7-.86A7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79q0 .52-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=../../js/lunr.min.js?1765297502></script><script type=text/javascript src=../../js/auto-complete.js?1765297502></script><script type=text/javascript>var baseurl="https://thienluhoan.github.io/workshop-template/"</script><script type=text/javascript src=../../js/search.js?1765297502></script></div><div class=highlightable><ul class=topics><li data-nav-id=/1-worklog/ title=Worklog class=dd-item><a href=../../1-worklog/><b>1. </b>Worklog
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/1-worklog/1.1-week1/ title="Week 1 Worklog" class=dd-item><a href=../../1-worklog/1.1-week1/><b>1.1. </b>Week 1 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.2-week2/ title="Week 2 Worklog" class=dd-item><a href=../../1-worklog/1.2-week2/><b>1.2. </b>Week 2 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.3-week3/ title="Week 3 Worklog" class=dd-item><a href=../../1-worklog/1.3-week3/><b>1.3. </b>Week 3 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.4-week4/ title="Week 4 Worklog" class=dd-item><a href=../../1-worklog/1.4-week4/><b>1.4. </b>Week 4 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.5-week5/ title="Week 5 Worklog" class=dd-item><a href=../../1-worklog/1.5-week5/><b>1.5. </b>Week 5 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.6-week6/ title="Week 6 Worklog" class=dd-item><a href=../../1-worklog/1.6-week6/><b>1.6. </b>Week 6 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.7-week7/ title="Week 7 Worklog" class=dd-item><a href=../../1-worklog/1.7-week7/><b>1.7. </b>Week 7 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.8-week8/ title="Week 8 Worklog" class=dd-item><a href=../../1-worklog/1.8-week8/><b>1.8. </b>Week 8 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.9-week9/ title="Worklog Week 9" class=dd-item><a href=../../1-worklog/1.9-week9/><b>1.9. </b>Worklog Week 9
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.10-week10/ title="Worklog Week 10" class=dd-item><a href=../../1-worklog/1.10-week10/><b>1.10. </b>Worklog Week 10
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.11-week11/ title="Worklog Week 11" class=dd-item><a href=../../1-worklog/1.11-week11/><b>1.11. </b>Worklog Week 11
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.12-week12/ title="Worklog Week 12" class=dd-item><a href=../../1-worklog/1.12-week12/><b>1.12. </b>Worklog Week 12
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/2-proposal/ title=Proposal class=dd-item><a href=../../2-proposal/><b>2. </b>Proposal
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-eventparticipated/ title="Events Participated" class=dd-item><a href=../../4-eventparticipated/><b>4. </b>Events Participated
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/4-eventparticipated/4.1-event1/ title="Event 1" class=dd-item><a href=../../4-eventparticipated/4.1-event1/><b>4.1. </b>Event 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-eventparticipated/4.2-event2/ title="Event 2" class=dd-item><a href=../../4-eventparticipated/4.2-event2/><b>4.2. </b>Event 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-eventparticipated/4.3-event3/ title="Event 3" class=dd-item><a href=../../4-eventparticipated/4.3-event3/><b>4.3. </b>Event 3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-eventparticipated/4.4-event4/ title="Event 4" class=dd-item><a href=../../4-eventparticipated/4.4-event4/><b>4.4. </b>Event 4
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-eventparticipated/4.5-event5/ title="Event 5" class=dd-item><a href=../../4-eventparticipated/4.5-event5/><b>4.5. </b>Event 5
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-eventparticipated/4.6-event6/ title="Event 6" class=dd-item><a href=../../4-eventparticipated/4.6-event6/><b>4.6. </b>Event 6
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-eventparticipated/4.7-event7/ title="Event 7" class=dd-item><a href=../../4-eventparticipated/4.7-event7/><b>4.7. </b>Event 7
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/5-workshop/ title=Workshop class=dd-item><a href=../../5-workshop/><b>5. </b>Workshop
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/5-workshop/5.1-workshop-overview/ title=Introduction class=dd-item><a href=../../5-workshop/5.1-workshop-overview/><b>5.1. </b>Introduction
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.2-prerequiste/ title=Prerequiste class=dd-item><a href=../../5-workshop/5.2-prerequiste/><b>5.2. </b>Prerequiste
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.3-network/ title="Network & Security Infrastructure" class=dd-item><a href=../../5-workshop/5.3-network/><b>5.3. </b>Network & Security Infrastructure
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/5-workshop/5.3-network/5.3.1-vpc/ title="VPC, Subnets & Routing" class=dd-item><a href=../../5-workshop/5.3-network/5.3.1-vpc/><b>5.3.1. </b>VPC, Subnets & Routing
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.3-network/5.3.2-alb/ title="Application Load Balancer (ALB)" class=dd-item><a href=../../5-workshop/5.3-network/5.3.2-alb/><b>5.3.2. </b>Application Load Balancer (ALB)
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.3-network/5.3.3-iam/ title="IAM Roles for ECS" class=dd-item><a href=../../5-workshop/5.3-network/5.3.3-iam/><b>5.3.3. </b>IAM Roles for ECS <i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.3-network/5.3.4-endpoints/ title="VPC Endpoints Setup" class=dd-item><a href=../../5-workshop/5.3-network/5.3.4-endpoints/><b>5.3.4. </b>VPC Endpoints Setup <i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/5-workshop/5.4-setup-fe/ title="Frontend Deployment (ECS Fargate)" class=dd-item><a href=../../5-workshop/5.4-setup-fe/><b>5.4. </b>Frontend Deployment (ECS Fargate)
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/5-workshop/5.4-setup-fe/5.4.1-docker/ title="Setup ECR & Push Image" class=dd-item><a href=../../5-workshop/5.4-setup-fe/5.4.1-docker/><b>5.4.1. </b>Setup ECR & Push Image
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.4-setup-fe/5.4.2-ecr/ title="Setup ECR & IAM Role" class=dd-item><a href=../../5-workshop/5.4-setup-fe/5.4.2-ecr/><b>5.4.2. </b>Setup ECR & IAM Role
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.4-setup-fe/5.4.3-sg/ title="Configure Security Group" class=dd-item><a href=../../5-workshop/5.4-setup-fe/5.4.3-sg/><b>5.4.3. </b>Configure Security Group
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.4-setup-fe/5.4.4-task/ title="Create Task Definition & Service" class=dd-item><a href=../../5-workshop/5.4-setup-fe/5.4.4-task/><b>5.4.4. </b>Create Task Definition & Service <i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/5-workshop/5.5-setup-be/ title="Backend Deployment (ECS Fargate)" class=dd-item><a href=../../5-workshop/5.5-setup-be/><b>5.5. </b>Backend Deployment (ECS Fargate)
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/5-workshop/5.5-setup-be/5.5.1-ecr/ title="Setup ECR & Push Image" class=dd-item><a href=../../5-workshop/5.5-setup-be/5.5.1-ecr/><b>5.5.1. </b>Setup ECR & Push Image <i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.5-setup-be/5.5.2-rds/ title="Create PostgreSQL RDS" class=dd-item><a href=../../5-workshop/5.5-setup-be/5.5.2-rds/><b>5.5.2. </b>Create PostgreSQL RDS <i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.5-setup-be/5.5.3-redis/ title="Create ElastiCache (Redis/Valkey)" class=dd-item><a href=../../5-workshop/5.5-setup-be/5.5.3-redis/><b>5.5.3. </b>Create ElastiCache (Redis/Valkey) <i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.5-setup-be/5.5.4-task/ title="Create Service & Task" class=dd-item><a href=../../5-workshop/5.5-setup-be/5.5.4-task/><b>5.5.4. </b>Create Service & Task <i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/5-workshop/5.6-ai-service/ title="AI Service Architecture" class=dd-item><a href=../../5-workshop/5.6-ai-service/><b>5.6. </b>AI Service Architecture
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/5-workshop/5.6-ai-service/5.6.1-api-gateway/ title="API Gateway" class=dd-item><a href=../../5-workshop/5.6-ai-service/5.6.1-api-gateway/><b>5.6.1. </b>API Gateway
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.6-ai-service/5.6.2-sqs-queues/ title="SQS Queues" class=dd-item><a href=../../5-workshop/5.6-ai-service/5.6.2-sqs-queues/><b>5.6.2. </b>SQS Queues
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.6-ai-service/5.6.3-lambda-functions/ title="Lambda Functions" class=dd-item><a href=../../5-workshop/5.6-ai-service/5.6.3-lambda-functions/><b>5.6.3. </b>Lambda Functions
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.6-ai-service/5.6.4-dynamodb/ title=DynamoDB class=dd-item><a href=../../5-workshop/5.6-ai-service/5.6.4-dynamodb/><b>5.6.4. </b>DynamoDB
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.6-ai-service/5.6.5-bedrock-integration/ title="Bedrock Integration" class=dd-item><a href=../../5-workshop/5.6-ai-service/5.6.5-bedrock-integration/><b>5.6.5. </b>Bedrock Integration
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/5-workshop/5.7-cicd-pipeline/ title="CI/CD with CodeBuild & CodePipeline" class=dd-item><a href=../../5-workshop/5.7-cicd-pipeline/><b>5.7. </b>CI/CD with CodeBuild & CodePipeline
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/5-workshop/5.7-cicd-pipeline/5.7.1-create-gwe/ title="Connect GitLab repo & create CodeBuild project" class=dd-item><a href=../../5-workshop/5.7-cicd-pipeline/5.7.1-create-gwe/><b>5.7.1 </b>Connect GitLab repo & create CodeBuild project
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.7-cicd-pipeline/5.7.2-test-gwe/ title="Create CodePipeline with GitLab tag trigger" class=dd-item><a href=../../5-workshop/5.7-cicd-pipeline/5.7.2-test-gwe/><b>5.7.2 </b>Create CodePipeline with GitLab tag trigger
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/5-workshop/5.8-cleanup/ title="Clean Up Resources" class=dd-item><a href=../../5-workshop/5.8-cleanup/><b>5.8. </b>Clean Up Resources
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/6-self-evaluation/ title=Self-Assessment class=dd-item><a href=../../6-self-evaluation/><b>6. </b>Self-Assessment
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/7-feedback/ title="Sharing and Feedback" class=dd-item><a href=../../7-feedback/><b>7. </b>Sharing and Feedback
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-blogstranslated/ title="Let's Architect! Modern Data Architectures" class="dd-item
parent"><a href=../../3-blogstranslated/><b>3.4. </b>Let's Architect! Modern Data Architectures
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/3-blogstranslated/3.3-blog3/ title="Multi-Region keys: A new approach to key replication in AWS Payment Cryptography" class=dd-item><a href=../../3-blogstranslated/3.3-blog3/><b>3.3. </b>Multi-Region keys: A new approach to key replication in AWS Payment Cryptography
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-blogstranslated/3.1-blog1/ title="How FINRA established real-time operational observability for big data workloads on Amazon EMR running on Amazon EC2 with Prometheus and Grafana" class="dd-item
active"><a href=../../3-blogstranslated/3.1-blog1/><b>3.1. </b>How FINRA established real-time operational observability for big data workloads on Amazon EMR running on Amazon EC2 with Prometheus and Grafana
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-blogstranslated/3.2-blog2/ title="AWS for Industries: 150 Models and Counting: Your Guide to Generative AI Models for Healthcare and Life Sciences" class=dd-item><a href=../../3-blogstranslated/3.2-blog2/><b>3.3. </b>AWS for Industries: 150 Models and Counting: Your Guide to Generative AI Models for Healthcare and Life Sciences
<i class="fas fa-check read-icon"></i></a></li></ul></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://www.facebook.com/groups/awsstudygroupfcj/><i class='fab fa-facebook'></i> AWS Study Group</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://thienluhoan.github.io/workshop-template/3-blogstranslated/3.1-blog1/ selected>English</option><option id=vi value=https://thienluhoan.github.io/workshop-template/vi/3-blogstranslated/3.1-blog1/>Tiếng Việt</option></select><svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><left><b>Workshop</b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title=Migrate alt="web counter" border=0></a><br><b><a href=https://cloudjourney.awsstudygroup.com/>Cloud Journey</a></b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" alt="web counter" border=0>
</left><left><br><br><b>Last Updated</b><br><i><span id=lastUpdated style=color:orange></span>
</i><script>const today=new Date,formattedDate=today.toLocaleDateString("en-GB");document.getElementById("lastUpdated").textContent=formattedDate</script></left><left><br><br><b>Team</b><br><i><a href=https://www.facebook.com/groups/660548818043427 style=color:orange>First Cloud Journey</a><br></i></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=../../>Internship Report</a> > <a href=../../3-blogstranslated/>Let's Architect! Modern Data Architectures</a> > How FINRA established real-time operational observability for big data workloads on Amazon EMR running on Amazon EC2 with Prometheus and Grafana</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#sample-dashboards><strong>Sample Dashboards</strong></a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>How FINRA established real-time operational observability for big data workloads on Amazon EMR running on Amazon EC2 with Prometheus and Grafana</h1><p>Post date: Nov 15, 2024 – Authors: Sumalatha Bachu, PremKiran Bejjam, and Akhil Chalamalasetty in <a href=https://aws.amazon.com/blogs/big-data/category/big-data/>AWS Big Data</a>, <a href=https://aws.amazon.com/blogs/big-data/category/post-types/customer-solutions/>Customer Solutions</a>, <a href=https://aws.amazon.com/blogs/big-data/category/management-and-governance/monitoring-and-observability/>Monitoring and observability</a>.</p><p>This is a guest post by FINRA (Financial Industry Regulatory Authority). FINRA is dedicated to protecting investors and safeguarding market integrity in a manner that facilitates vibrant capital markets.</p><p><a href=https://www.finra.org/>FINRA</a> processes big data with massive volumes and workloads of varying sizes and instance types on <a href=http://aws.amazon.com/emr>Amazon EMR</a>. Amazon EMR is a cloud big data environment designed for processing large amounts of data using open-source tools such as Hadoop, Spark, HBase, Flink, Hudi, and Presto.</p><p>Monitoring EMR clusters is essential to detect critical issues with applications, infrastructure, or data in real time. A fine-tuned monitoring system helps quickly identify root causes, automate remediation, minimize manual tasks, and increase productivity. Additionally, observing cluster performance and utilization over time helps operations and engineering teams find potential performance bottlenecks and optimization opportunities to right-size their clusters. This, in turn, reduces manual tasks and improves service level agreement (SLA) compliance.</p><p>In this post, we discuss our challenges and show how we built an observability framework to provide insights into operational metrics for big data workloads on Amazon EMR clusters running on <a href=http://aws.amazon.com/ec2>Amazon Elastic Compute Cloud</a> (Amazon EC2).</p><hr><p><strong>Challenges</strong></p><p>In today’s data-centric world, organizations strive to extract valuable insights from massive amounts of data. The challenge we faced was finding an effective way to monitor and observe big data workloads on Amazon EMR due to their complexity. Monitoring and observing Amazon EMR solutions come with various challenges:</p><ul><li><strong>Complexity and scale</strong> – EMR clusters often process massive amounts of data across multiple nodes. Monitoring such a distributed and complex system requires handling high data throughput and minimizing performance impact. Managing and interpreting the large volume of monitoring data generated by EMR clusters can be overwhelming, making it difficult to identify and troubleshoot issues promptly.</li><li><strong>Dynamic environments</strong> – EMR clusters are often ephemeral, created and terminated based on workload requirements. This dynamic nature makes it difficult to monitor, collect metrics, and maintain consistent observability over time.</li><li><strong>Data diversity</strong> – Monitoring cluster health and having a bird&rsquo;s-eye view to detect bottlenecks, anomalous behavior in processing, data skew, and job performance is critical. Detailed observability of long-running clusters, nodes, tasks, potential data skew, stuck tasks, performance issues, and job-level metrics (such as Spark and JVM) is crucial to understand. Achieving comprehensive observability across these diverse data types is difficult.</li><li><strong>Resource optimization</strong> – EMR clusters consist of multiple components and services working together, making it challenging to effectively monitor all aspects of the system. Monitoring resource utilization (CPU, memory, disk I/O) across multiple nodes to prevent bottlenecks and inefficiencies is essential but complex, especially in a distributed environment.</li><li><strong>Latency and performance metrics</strong> – Collecting and analyzing latency and comprehensive performance metrics in real time to identify and resolve issues promptly is critical but challenging due to the distributed nature of Amazon EMR.</li><li><strong>Centralized observability dashboard</strong> – Having a single pane of glass for all aspects of EMR cluster metrics, including cluster health, resource utilization, job execution, logs, and security, to provide a complete picture of system performance and health, is a challenge.</li><li><strong>Alerting and incident management</strong> – Setting up effective centralized alerting and notification systems is difficult. Configuring alerts for critical events or performance thresholds requires careful consideration to avoid &ldquo;alert fatigue&rdquo; while ensuring critical issues are addressed promptly. Responding to incidents from performance slowdowns or interruptions takes time and effort to detect and fix without proper alerting mechanisms.</li><li><strong>Cost management</strong> – Finally, optimizing costs while maintaining effective monitoring is an ongoing challenge. Balancing the need for comprehensive monitoring with cost constraints requires careful planning and optimization strategies to avoid unnecessary expenses while ensuring adequate monitoring capabilities.</li></ul><p>Effective observability for Amazon EMR requires a combination of the right tools, practices, and strategies to address these challenges, thereby delivering big data processing that is reliable, efficient, and cost-effective.</p><p>The <a href=https://docs.aws.amazon.com/emr/latest/ReleaseGuide/emr-ganglia.html>Ganglia</a> system on Amazon EMR was designed to monitor the health of the entire cluster and all nodes, displaying various metrics such as Hadoop, Spark, and JVM. When viewing the Ganglia web interface in a browser, we see an overview of the EMR cluster&rsquo;s performance, details on load, memory usage, CPU usage, and network traffic via various graphs.</p><p>However, with AWS announcing the deprecation of Ganglia support for <a href=https://docs.aws.amazon.com/emr/latest/ReleaseGuide/emr-ganglia.html>AWS for higher versions of Amazon EMR</a>, it became critical for FINRA to build this solution.</p><hr><p><strong>Solution Overview</strong></p><p>Insights drawn from the post <a href=https://aws.amazon.com/blogs/big-data/monitor-and-optimize-analytic-workloads-on-amazon-emr-with-prometheus-and-grafana/>Monitor and Optimize Analytic Workloads on Amazon EMR with Prometheus and Grafana</a> inspired our approach. This article demonstrated how to set up a monitoring system using <a href=https://aws.amazon.com/prometheus/>Amazon Managed Service for Prometheus</a> and <a href=https://aws.amazon.com/grafana/>Amazon Managed Grafana</a> to effectively monitor an EMR cluster, using Grafana dashboards to view metrics for troubleshooting and optimizing performance issues.</p><p>Based on these insights, we completed a successful proof of concept. Next, we built a centralized monitoring solution for our enterprise with Managed Prometheus and Managed Grafana to simulate Ganglia-like metrics at FINRA. Managed Prometheus allows for real-time high-volume data collection, scalable ingestion, storage, and querying of operational metrics as workloads scale up or down. These metrics are forwarded to a Managed Grafana workspace for visualization.</p><p>Our solution includes an ingestion layer for every cluster, configured to collect metrics via a custom script stored in <a href=http://aws.amazon.com/s3>Amazon Simple Storage Service</a>. We also installed Managed Prometheus at launch for EC2 instances on Amazon EMR via a bootstrap script. Additionally, application-specific tags are defined in the configuration file to optimize the ingestion and collection of specific metrics.</p><p>Once Managed Prometheus (installed on EMR clusters) collects the metrics, they are sent to a remote Managed Prometheus workspace. Managed Prometheus workspaces are logical and isolated environments dedicated to Managed Prometheus servers, managing specific metrics. They also provide access control to authorize who or what can send and receive metrics from that workspace. You can create one or more workspaces by account or application depending on needs, facilitating better management.</p><p>After the metrics are collected, we built a mechanism to display them on Managed Grafana dashboards, which are then consumed via an endpoint. We customized dashboards for task-level, node-level, and cluster-level metrics so they could be promoted from lower environments to higher ones. We also built several sample dashboards displaying node-level metrics such as OS-level metrics (CPU, memory, network, disk I/O), HDFS metrics, YARN metrics, Spark metrics, and job-level metrics (Spark and JVM), maximizing potential for each environment through automatic metric aggregation within each account.</p><p>We chose SAML-based authentication, allowing us to integrate with existing Active Directory (AD) groups, minimizing the effort required to manage user access and granting Grafana dashboard access based on user roles. We organized three main groups—admins, editors, and viewers—to authenticate Grafana users based on their roles.</p><p>Through complex monitoring automation, these desired metrics are pushed to <a href=https://aws.amazon.com/cloudwatch/>Amazon CloudWatch</a>. We use CloudWatch for alerting when necessary, whenever metrics exceed desired thresholds.</p><p><img alt="Solution Architecture Diagram" src=../../images/3-BlogsTranslated/Blog_FINRA/img1.jpg></p><hr><h2 id=sample-dashboards><strong>Sample Dashboards</strong></h2><p>The following screenshots introduce the sample dashboards.</p><p><img alt="Sample Dashboard 1" src=../../images/3-BlogsTranslated/Blog_FINRA/img2.jpg></p><p><img alt="Sample Dashboard 2" src=../../images/3-BlogsTranslated/Blog_FINRA/img3.jpg></p><hr><p><strong>Conclusion</strong></p><p>In this post, we shared how FINRA enhanced data-driven decision-making with comprehensive workload observability on EMR, aiming to optimize performance, maintain reliability, and gain critical insights into big data operations, leading to operational excellence.</p><p>FINRA&rsquo;s solution allowed operations and engineering teams to use a &ldquo;single pane of glass&rdquo; to monitor big data workloads and quickly detect any operational issues. This scalable solution significantly reduced troubleshooting time and improved our overall operational capabilities. The solution provided operations and engineering teams with comprehensive insights into various Amazon EMR metrics such as OS levels, Spark, JMX, HDFS, and YARN, all aggregated in a single place. We also extended this solution to use cases like <a href=https://aws.amazon.com/eks/>Amazon Elastic Kubernetes Service</a> (Amazon EKS) clusters, including EMR on EKS and other applications, making it a unified system for monitoring metrics across our entire infrastructure and applications.</p><hr><table><thead><tr><th style=text-align:left><img alt="Sumalatha Bachu" src=../../images/3-BlogsTranslated/Blog_FINRA/author1.png></th><th style=text-align:left><strong>Sumalatha Bachu</strong><br>Sumalatha is a Senior Director of Technology at FINRA. She oversees Big Data Operations, including managing petabyte-scale data and handling complex workloads on the cloud platform. Additionally, she is an expert in developing Enterprise Application Monitoring and Observability Solutions, Operational Data Analytics, and Machine Learning Model Governance processes. Outside of work, she enjoys yoga, singing practice, and teaching in her spare time.</th></tr></thead><tbody><tr><td style=text-align:left><img alt="PremKiran Bejjam" src=../../images/3-BlogsTranslated/Blog_FINRA/author2.jpg></td><td style=text-align:left><strong>PremKiran Bejjam</strong><br>PremKiran is a Lead Engineer Consultant at FINRA. He specializes in developing resilient and scalable systems. With a strong focus on designing monitoring solutions to enhance infrastructure reliability, he is dedicated to optimizing system performance. Outside of work, he enjoys spending quality time with family and constantly seeking new learning opportunities.</td></tr><tr><td style=text-align:left><img alt="Akhil Chalamalasetty" src=../../images/3-BlogsTranslated/Blog_FINRA/author3.png></td><td style=text-align:left><strong>Akhil Chalamalasetty</strong><br>Akhil is a Director of Market Regulation Technology at FINRA. He is a Big Data expert, specializing in building advanced large-scale solutions, along with optimizing workloads, data, and their processing capabilities. Akhil enjoys sim racing and watching Formula 1 in his spare time.</td></tr></tbody></table><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=../../3-blogstranslated/3.3-blog3/ title="Multi-Region keys: A new approach to key replication in AWS Payment Cryptography"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=../../3-blogstranslated/3.2-blog2/ title="AWS for Industries: 150 Models and Counting: Your Guide to Generative AI Models for Healthcare and Life Sciences" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=../../js/clipboard.min.js?1765297502></script><script src=../../js/perfect-scrollbar.min.js?1765297502></script><script src=../../js/perfect-scrollbar.jquery.min.js?1765297502></script><script src=../../js/jquery.sticky.js?1765297502></script><script src=../../js/featherlight.min.js?1765297502></script><script src=../../js/highlight.pack.js?1765297502></script><script>hljs.initHighlightingOnLoad()</script><script src=../../js/modernizr.custom-3.6.0.js?1765297502></script><script src=../../js/learn.js?1765297502></script><script src=../../js/hugo-learn.js?1765297502></script><link href=../../mermaid/mermaid.css?1765297502 rel=stylesheet><script src=../../mermaid/mermaid.js?1765297502></script><script>mermaid.initialize({startOnLoad:!0})</script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,(e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date),(i=t.createElement(n),a=t.getElementsByTagName(n)[0]),i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-158079754-2","auto"),ga("send","pageview")</script></body></html>